<div class="admin">
  <div class="admin-tab">
    <button ng-click="loadMonitoring()" class="tab">Reload</button>
  </div>
  <div class="message" ng-class="{error: $error}">{{ $error.msg }}</div>

  <table class="admin">
    <tr><td>Load:</td><td>{{ data.load }}</td></tr>
    <tr><td>Cores:</td><td>{{ data.nproc }}</td></tr>
    <tr><td>Threads:</td><td>{{ data.threads }}</td></tr>
    <tr><td>Free memory:</td><td>{{ data.freeMemory | number : fractionSize }}</td></tr>
    <tr><td>Total memory:</td><td>{{ data.totalMemory | number : fractionSize }}</td></tr>
    <tr><td>Max memory:</td><td>{{ data.maxMemory | number : fractionSize }}</td></tr>
  </table>

  <span class="admin-label">Tables:</span>
  <table class="admin">
    <thead>
      <th>Name</th>
      <th>File size</th>
    </thead>
    <tbody>
      <tr ng-repeat="table in data.tables">
        <td>{{ table.name }}</td>
        <td>{{ table.fileSize | number : fractionSize }}</td>
      </tr>
    </tbody>
  </table>

  <span class="admin-label">Unique indexes:<span>
  <table class="admin">
    <thead>
      <th>Name</th>
      <th>File size</th>
      <th>Nodes in memory</th>
      <th>Pending nodes</th>
      <th>Test</th>
    </thead>
    <tbody>
      <tr ng-repeat="index in data.uniqueIndexes">
        <td>{{ index.name }}</td>
        <td>{{ index.indexFileSize | number : fractionSize }}</td>
        <td>{{ index.inMemNodes | number : fractionSize }}</td>
        <td>{{ index.pendingNodes | number : fractionSize }}</td>
        <td>
          <input ng-model=testKeys[index.name]></input>
          <span ng-click="loadIndexValues(index.name);" title="Load" class="button glyphicon glyphicon-refresh"></span>
          <label>{{ testValues[index.name] }}</label>
        </td>
      </tr>
    </tbody>
  </table>

  <span class="admin-label">Multi indexes:</span>
  <table class="admin">
    <thead>
      <th>Name</th>
      <th>Trie file size</th>
      <th>Index file size</th>
      <th>Nodes in memory</th>
      <th>Trie pending nodes</th>
      <th>Pending nodes</th>
      <th>Test</th>
    </thead>
    <tbody>
      <tr ng-repeat="index in data.multiIndexes">
        <td>{{ index.name }}</td>
        <td>{{ index.trieFileSize | number : fractionSize }}</td>
        <td>{{ index.indexFileSize | number : fractionSize }}</td>
        <td>{{ index.trieInMemNodes | number : fractionSize }}</td>
        <td>{{ index.triePendingNodes | number : fractionSize }}</td>
        <td>{{ index.pendingNodes | number : fractionSize }}</td>
        <td>
          <input ng-model=testKeys[index.name]></input>
          <span ng-click="loadIndexValues(index.name);" title="Load" class="button glyphicon glyphicon-refresh"></span>
          <label>{{ testValues[index.name] }}</label>
        </td>
      </tr>
    </tbody>
  </table>
</div>